(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0b34bb"],{2887:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"d-flex justify-center"},[a("PatientTable")],1)])},i=[],o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{attrs:{width:"100%"}},[a("v-card-title",{staticClass:"py-3 my-0"},[a("v-text-field",{staticClass:"white",staticStyle:{"max-width":"600px"},attrs:{outlined:"",dense:"","append-icon":"mdi-magnify",label:"Busca","hide-details":""},model:{value:t.busca,callback:function(e){t.busca=e},expression:"busca"}}),a("v-spacer"),a("v-btn",{staticClass:"my-2",attrs:{small:"",color:"app"},on:{click:t.createPatient}},[t._v("Inserir paciente")])],1),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.patientHeader,items:t.patients,search:t.busca,dense:"","item-key":"_id",loading:t.loading,"loading-text":"Carregando pacientes...","no-data-text":"Não há pacientes a exibir...","items-per-page":10,"footer-props":{"items-per-page-all-text":"Todos","items-per-page-text":"Pacientes por página:","items-per-page-options":[5,10,15,-1]},"header-props":{"sort-by-text":"Organizar por"}},scopedSlots:t._u([{key:"item.dateOfBirth",fn:function(e){var a=e.item;return[t._v(" "+t._s(t.formatDate(a.dateOfBirth))+" ")]}},{key:"item.actions",fn:function(e){var n=e.item;return[a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on,o=e.attrs;return[a("v-btn",t._g(t._b({attrs:{icon:""},on:{click:function(e){return t.editPatient(n)}}},"v-btn",o,!1),i),[a("v-icon",{attrs:{small:"",color:"purple"}},[t._v("mdi-account-edit")])],1)]}}],null,!0)},[a("span",[t._v("Editar paciente")])])]}}],null,!0)}),a("v-dialog",{attrs:{"max-width":"500"},model:{value:t.patientDialog,callback:function(e){t.patientDialog=e},expression:"patientDialog"}},[a("EditPatient",{key:t.patientKey,attrs:{patient:t.patient},on:{close:t.closePatient}})],1)],1)},s=[],c=(a("d81d"),a("bc3a")),r=a.n(c),l=a("8d35"),d=a.n(l),p=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-card",{attrs:{"max-width":"800"}},[a("v-card-title",[t._v(t._s(t.CardTitle))]),a("v-divider"),a("v-card-text",[a("v-form",[a("v-text-field",{attrs:{"prepend-icon":"mdi-account",outlined:"",dense:"",label:"Nome"},model:{value:t.client.name,callback:function(e){t.$set(t.client,"name",e)},expression:"client.name"}}),a("v-text-field",{attrs:{"prepend-icon":"mdi-account-group",outlined:"",dense:"",label:"Nome dos pais"},model:{value:t.client.nameOfParents,callback:function(e){t.$set(t.client,"nameOfParents",e)},expression:"client.nameOfParents"}}),a("v-text-field",{attrs:{"prepend-icon":"mdi-account-details",outlined:"",dense:"",label:"CPF ou RG"},model:{value:t.client.cpf,callback:function(e){t.$set(t.client,"cpf",e)},expression:"client.cpf"}}),a("v-row",[a("v-col",{attrs:{cols:"12",lg:"6"}},[a("v-text-field",{attrs:{"prepend-icon":"mdi-phone",outlined:"",dense:"",label:"Telefone"},model:{value:t.client.cellPhone,callback:function(e){t.$set(t.client,"cellPhone",e)},expression:"client.cellPhone"}})],1),a("v-col",{attrs:{cols:"12",lg:"6"}},[a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"auto"},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on,i=e.attrs;return[a("v-text-field",t._g(t._b({attrs:{dense:"",outlined:"",readonly:"",label:"Data de nascimento","prepend-icon":"mdi-calendar"},model:{value:t.formattedDate,callback:function(e){t.formattedDate=e},expression:"formattedDate"}},"v-text-field",i,!1),n))]}}]),model:{value:t.menuNascimento,callback:function(e){t.menuNascimento=e},expression:"menuNascimento"}},[a("v-date-picker",{attrs:{max:t.today,locale:"pt-br"},on:{input:function(e){t.menuNascimento=!1}},model:{value:t.client.dateOfBirth,callback:function(e){t.$set(t.client,"dateOfBirth",e)},expression:"client.dateOfBirth"}})],1)],1)],1),a("v-divider",{staticClass:"my-6"}),a("v-card-actions",{staticClass:"d-flex"},[a("v-btn",{attrs:{text:"",color:"red"},on:{click:t.closePatient}},[t._v("Fechar")]),a("v-spacer"),a("v-btn",{attrs:{text:"",color:"green"},on:{click:t.savePatient}},[t._v("Salvar")])],1)],1)],1)],1)],1)},u=[],f={props:["patient"],computed:{CardTitle:function(){return this.patient?"Editar paciente":"Inserir paciente"},formattedDate:function(){return d()(this.client.dateOfBirth).format("DD/MM/YYYY")}},data:function(){return{client:{name:"",dateOfBirth:d()().format("YYYY-MM-DD"),cellPhone:"",nameOfParents:"",cpf:""},menuNascimento:!1,today:d()().format("YYYY-MM-DD")}},methods:{savePatient:function(){var t=this,e=this.patient?"put":"post",a=this.patient?this.patient._id:"newPatient";r.a[e]("/patients/".concat(a),this.client).then((function(e){t.$root.vtoast.show({color:"green",message:e.data}),t.$emit("close",!0)})).catch((function(e){t.$root.vtoast.show({color:"orange",message:e.response.data,icon:"mdi-alert"})}))},closePatient:function(){this.$emit("close",!1)}},mounted:function(){this.patient&&(this.client=Object.assign({},this.patient))}},m=f,v=a("2877"),h=a("6544"),b=a.n(h),g=a("8336"),x=a("b0af"),P=a("99d9"),D=a("62ad"),k=a("2e4b"),_=a("ce7e"),y=a("4bd4"),V=a("e449"),w=a("0fd9"),C=a("2fa4"),O=a("8654"),Y=Object(v["a"])(m,p,u,!1,null,"3e8183dd",null),$=Y.exports;b()(Y,{VBtn:g["a"],VCard:x["a"],VCardActions:P["a"],VCardText:P["c"],VCardTitle:P["d"],VCol:D["a"],VDatePicker:k["a"],VDivider:_["a"],VForm:y["a"],VMenu:V["a"],VRow:w["a"],VSpacer:C["a"],VTextField:O["a"]});var T={props:["admin"],components:{EditPatient:$},computed:{patientHeader:function(){var t=[{text:"Nome",value:"name",sortable:!1},{text:"Data de nascimento",value:"dateOfBirth",sortable:!1},{text:"CPF / Nome dos pais",value:"identificador",sortable:!1},{text:"Ações",value:"actions",sortable:!1,align:"center"}];return t}},data:function(){return{patients:[],loading:!0,busca:"",patient:null,patientDialog:!1,patientKey:Math.random()}},methods:{formatDate:function(t){return d()(t).format("DD/MM/YYYY")},fetchPatients:function(){var t=this;r.a.get("/patients").then((function(e){t.patients=e.data.map((function(t){var e=Object.assign({},t);return e.identificador=t.cpf?t.cpf:t.nameOfParents,e})),t.loading=!1,t.$root.vtoast.show({color:"green",message:"Pacientes carregados"})})).catch((function(e){t.$root.vtoast.show({color:"orange",message:e.response.data,icon:"mdi-alert"}),t.loading=!1}))},closePatient:function(t){t&&this.fetchPatients(),this.patientDialog=!1},editPatient:function(t){this.patient=t,this.patientKey=t._id,this.patientDialog=!0},createPatient:function(){this.patient=null,this.patientKey=Math.random(),this.patientDialog=!0}},mounted:function(){this.fetchPatients()}},B=T,M=a("8fea"),N=a("169a"),E=a("132d"),S=a("3a2f"),j=Object(v["a"])(B,o,s,!1,null,"03a929f3",null),F=j.exports;b()(j,{VBtn:g["a"],VCard:x["a"],VCardTitle:P["d"],VDataTable:M["a"],VDialog:N["a"],VIcon:E["a"],VSpacer:C["a"],VTextField:O["a"],VTooltip:S["a"]});var K={components:{PatientTable:F}},I=K,A=Object(v["a"])(I,n,i,!1,null,"25420597",null);e["default"]=A.exports}}]);
//# sourceMappingURL=chunk-2d0b34bb.2f9e9213.js.map