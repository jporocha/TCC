(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-88bb3658"],{"4bd4":function(t,e,a){"use strict";var s=a("5530"),n=(a("caad"),a("2532"),a("07ac"),a("4de4"),a("159b"),a("7db0"),a("58df")),i=a("7e2b"),o=a("3206");e["a"]=Object(n["a"])(i["a"],Object(o["b"])("form")).extend({name:"v-form",provide:function(){return{form:this}},inheritAttrs:!1,props:{disabled:Boolean,lazyValidation:Boolean,readonly:Boolean,value:Boolean},data:function(){return{inputs:[],watchers:[],errorBag:{}}},watch:{errorBag:{handler:function(t){var e=Object.values(t).includes(!0);this.$emit("input",!e)},deep:!0,immediate:!0}},methods:{watchInput:function(t){var e=this,a=function(t){return t.$watch("hasError",(function(a){e.$set(e.errorBag,t._uid,a)}),{immediate:!0})},s={_uid:t._uid,valid:function(){},shouldValidate:function(){}};return this.lazyValidation?s.shouldValidate=t.$watch("shouldValidate",(function(n){n&&(e.errorBag.hasOwnProperty(t._uid)||(s.valid=a(t)))})):s.valid=a(t),s},validate:function(){return 0===this.inputs.filter((function(t){return!t.validate(!0)})).length},reset:function(){this.inputs.forEach((function(t){return t.reset()})),this.resetErrorBag()},resetErrorBag:function(){var t=this;this.lazyValidation&&setTimeout((function(){t.errorBag={}}),0)},resetValidation:function(){this.inputs.forEach((function(t){return t.resetValidation()})),this.resetErrorBag()},register:function(t){this.inputs.push(t),this.watchers.push(this.watchInput(t))},unregister:function(t){var e=this.inputs.find((function(e){return e._uid===t._uid}));if(e){var a=this.watchers.find((function(t){return t._uid===e._uid}));a&&(a.valid(),a.shouldValidate()),this.watchers=this.watchers.filter((function(t){return t._uid!==e._uid})),this.inputs=this.inputs.filter((function(t){return t._uid!==e._uid})),this.$delete(this.errorBag,e._uid)}}},render:function(t){var e=this;return t("form",{staticClass:"v-form",attrs:Object(s["a"])({novalidate:!0},this.attrs$),on:{submit:function(t){return e.$emit("submit",t)}}},this.$slots.default)}})},"6fae":function(t,e,a){},7820:function(t,e,a){},"98a5":function(t,e,a){"use strict";a("6fae")},a523:function(t,e,a){"use strict";a("4de4"),a("b64b"),a("2ca0"),a("99af"),a("20f6"),a("4b85");var s=a("e8f2"),n=a("d9f7");e["a"]=Object(s["a"])("container").extend({name:"v-container",functional:!0,props:{id:String,tag:{type:String,default:"div"},fluid:{type:Boolean,default:!1}},render:function(t,e){var a,s=e.props,i=e.data,o=e.children,r=i.attrs;return r&&(i.attrs={},a=Object.keys(r).filter((function(t){if("slot"===t)return!1;var e=r[t];return t.startsWith("data-")?(i.attrs[t]=e,!1):e||"string"===typeof e}))),s.id&&(i.domProps=i.domProps||{},i.domProps.id=s.id),t(s.tag,Object(n["a"])(i,{staticClass:"container",class:Array({"container--fluid":s.fluid}).concat(a||[])}),o)}})},a55b:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{staticClass:"d-flex fill-height justify-center align-center cardBG",attrs:{fluid:""}},[a("v-spacer"),a("transition",{attrs:{name:"rotate",mode:"out-in"}},[1===t.modo?a("LoginCard",{on:{ForgotPass:t.changeToPass}}):2===t.modo?a("ForgotPass",{on:{Login:t.changeToLogin}}):t._e()],1),a("v-spacer")],1)},n=[],i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{staticClass:"pa-2",attrs:{width:"300px"}},[a("v-card-title",{staticClass:"d-flex justify-center"},[t._v(" Login ")]),a("v-divider"),a("v-card-text",[a("v-form",{ref:"form",model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-text-field",{attrs:{"prepend-icon":"mdi-email-outline",label:"E-mail",required:"",outlined:"",rules:t.emailRules,dense:""},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),a("v-text-field",{attrs:{"prepend-icon":"mdi-account-key-outline","append-icon":t.showPass?"mdi-eye":"mdi-eye-off",type:t.showPass?"text":"password",label:"Senha",required:"",outlined:"",dense:"",rules:t.passwordRules},on:{"click:append":function(e){t.showPass=!t.showPass}},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),a("div",{staticClass:"d-flex justify-center"},[a("v-btn",{attrs:{color:"green","min-width":"150px",small:""},on:{click:t.login}},[t._v("Entrar")])],1),a("div",{staticClass:"link caption text-center mt-4",on:{click:function(e){return t.newEvent("ForgotPass")}}},[t._v(" Redefina sua senha. ")]),a("div",{staticClass:"link caption text-center mt-4",on:{click:t.sendAccessToken}},[t._v(" Receber token de acesso único. ")])],1)],1)],1)},o=[],r=a("bc3a"),d=a.n(r),c={data:function(){return{email:"",password:"",showPass:!1,valid:null,emailRules:[function(t){return!!t||"Forneça um e-mail"},function(t){return/.+@.+\..+/.test(t)||"E-mail inválido"}],passwordRules:[function(t){return t&&t.length>=8||"Senha inválida"}]}},methods:{login:function(){var t=this,e={username:this.email,password:this.password};d.a.post("/auth/login",e).then((function(e){t.$root.vtoast.show({message:"Login realizado com sucesso."}),t.$router.push("/")})).catch((function(){t.$root.vtoast.show({message:"Falha no login do usuário",color:"red lighten-2",icon:"mdi-account-alert"})}))},sendAccessToken:function(){var t=this,e={email:this.email};d.a.post("/users/accessToken",e).then((function(e){t.$root.vtoast.show({message:e.data})})).catch((function(e){t.$root.vtoast.show({message:e.response.data.erro,color:"red lighten-2",icon:"mdi-account-alert"})}))},newEvent:function(t){this.$emit(t)}}},l=c,u=(a("98a5"),a("2877")),f=a("6544"),h=a.n(f),m=a("8336"),p=a("b0af"),v=a("99d9"),w=a("ce7e"),g=a("4bd4"),b=a("8654"),k=Object(u["a"])(l,i,o,!1,null,"f04ad020",null),x=k.exports;h()(k,{VBtn:m["a"],VCard:p["a"],VCardText:v["c"],VCardTitle:v["d"],VDivider:w["a"],VForm:g["a"],VTextField:b["a"]});var y=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{staticClass:"pa-2",attrs:{width:"300px"}},[a("v-card-title",{staticClass:"d-flex justify-center"},[t._v(" Recuperação de senha ")]),a("v-divider"),a("v-card-text",[a("v-form",{model:{value:t.form1,callback:function(e){t.form1=e},expression:"form1"}},[a("v-text-field",{attrs:{"prepend-icon":"mdi-email-outline",label:"Digite seu e-mail",rules:t.emailRules,required:"",outlined:"",dense:"",disabled:t.disableMail},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.requestToken.apply(null,arguments)}},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),a("div",{staticClass:"d-flex justify-center mb-3"},[a("v-btn",{attrs:{disabled:t.disableMail||!t.form1,color:"blue","min-width":"150px",small:""},on:{click:t.requestToken}},[t._v("Enviar código")])],1)],1),a("transition",{attrs:{name:"slide"}},[t.sentCode?a("v-form",{model:{value:t.form2,callback:function(e){t.form2=e},expression:"form2"}},[a("v-divider",{staticClass:"mb-4 mt-4"}),a("v-text-field",{attrs:{"prepend-icon":"mdi-account-key-outline",label:"Token",rules:t.tokenRules,outlined:"",dense:""},model:{value:t.code,callback:function(e){t.code=e},expression:"code"}}),a("v-text-field",{attrs:{"prepend-icon":"mdi-shield-key","append-icon":t.showPass?"mdi-eye":"mdi-eye-off",label:"Nova senha",rules:t.passwordRules,type:t.showPass?"text":"password",outlined:"",dense:""},on:{"click:append":function(e){t.showPass=!t.showPass}},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),a("v-text-field",{attrs:{"prepend-icon":"mdi-shield-key","append-icon":t.showPass2?"mdi-eye":"mdi-eye-off",type:t.showPass2?"text":"password",label:"Repita a senha",rules:t.passwordCheckRules,outlined:"",dense:""},on:{"click:append":function(e){t.showPass2=!t.showPass2}},model:{value:t.password2,callback:function(e){t.password2=e},expression:"password2"}}),a("div",{staticClass:"d-flex justify-center"},[a("v-btn",{attrs:{disabled:!t.form2,color:"green","min-width":"150px",small:""},on:{click:t.changePassword}},[t._v("Redefinir senha")])],1)],1):t._e()],1)],1),a("v-divider"),a("v-card-actions",{staticClass:"justify-center mt-2"},[a("v-btn",{attrs:{"min-width":"150px",color:"red darken-2",small:""},on:{click:t.returnToLogin}},[t._v(" Cancelar")])],1)],1)},C=[],P={data:function(){var t=this;return{form1:!1,form2:!1,sentCode:!1,email:"",code:"",password:"",password2:"",disableMail:!1,showPass:!1,showPass2:!1,emailRules:[function(t){return!!t||"Forneça um e-mail"},function(t){return/.+@.+\..+/.test(t)||"E-mail inválido"}],passwordRules:[function(t){return t&&t.length>=8||"Senha inválida"}],tokenRules:[function(t){return t&&t.length>=20||"Token inválido"}],passwordCheckRules:[function(t){return t&&t.length>=8||"Senha muito curta"},function(){return t.password===t.password2||"Senhas inválida"}]}},methods:{returnToLogin:function(){this.$emit("Login")},requestToken:function(){var t=this,e={email:this.email};this.disableMail=!0,d.a.post("/users/recoverPassword",e).then((function(e){t.sentCode=!0,t.$root.vtoast.show({message:e.data})})).catch((function(e){t.disableMail=!1,t.$root.vtoast.show({color:"red",message:e.response.data})}))},changePassword:function(){var t=this;if(this.password!=this.password2)return this.$root.vtoast.show({color:"red",message:"Confira sua senha."});var e={email:this.email,token:this.code,password:this.password};d.a.post("/users/resetPassword",e).then((function(e){t.$root.vtoast.show({message:e.data}),t.$emit("Login")})).catch((function(e){t.$root.vtoast.show({color:"red",message:e.response.data})}))}}},_=P,V=(a("f821"),Object(u["a"])(_,y,C,!1,null,"1f8ce2e8",null)),$=V.exports;h()(V,{VBtn:m["a"],VCard:p["a"],VCardActions:v["a"],VCardText:v["c"],VCardTitle:v["d"],VDivider:w["a"],VForm:g["a"],VTextField:b["a"]});var T={components:{LoginCard:x,ForgotPass:$},data:function(){return{email:"",password:"",valid:null,modo:1}},methods:{changeToPass:function(){this.modo=2},changeToLogin:function(){this.modo=1}},mounted:function(){this.$store.getters.getUser&&this.$router.push("/")}},j=T,B=(a("a5f0"),a("a523")),E=a("2fa4"),R=Object(u["a"])(j,s,n,!1,null,"208ffc3a",null);e["default"]=R.exports;h()(R,{VContainer:B["a"],VSpacer:E["a"]})},a5f0:function(t,e,a){"use strict";a("7820")},c018:function(t,e,a){},e8f2:function(t,e,a){"use strict";a.d(e,"a",(function(){return n}));a("498a"),a("99af"),a("4de4"),a("b64b"),a("2ca0"),a("a15b");var s=a("2b0e");function n(t){return s["a"].extend({name:"v-".concat(t),functional:!0,props:{id:String,tag:{type:String,default:"div"}},render:function(e,a){var s=a.props,n=a.data,i=a.children;n.staticClass="".concat(t," ").concat(n.staticClass||"").trim();var o=n.attrs;if(o){n.attrs={};var r=Object.keys(o).filter((function(t){if("slot"===t)return!1;var e=o[t];return t.startsWith("data-")?(n.attrs[t]=e,!1):e||"string"===typeof e}));r.length&&(n.staticClass+=" ".concat(r.join(" ")))}return s.id&&(n.domProps=n.domProps||{},n.domProps.id=s.id),e(s.tag,n,i)}})}},f821:function(t,e,a){"use strict";a("c018")}}]);
//# sourceMappingURL=chunk-88bb3658.8c4ef31f.js.map