(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5d3dac08"],{"0512":function(t,e,n){"use strict";n("b81d")},"4bd4":function(t,e,n){"use strict";var a=n("5530"),s=(n("caad"),n("2532"),n("07ac"),n("4de4"),n("159b"),n("7db0"),n("58df")),i=n("7e2b"),o=n("3206");e["a"]=Object(s["a"])(i["a"],Object(o["b"])("form")).extend({name:"v-form",provide:function(){return{form:this}},inheritAttrs:!1,props:{disabled:Boolean,lazyValidation:Boolean,readonly:Boolean,value:Boolean},data:function(){return{inputs:[],watchers:[],errorBag:{}}},watch:{errorBag:{handler:function(t){var e=Object.values(t).includes(!0);this.$emit("input",!e)},deep:!0,immediate:!0}},methods:{watchInput:function(t){var e=this,n=function(t){return t.$watch("hasError",(function(n){e.$set(e.errorBag,t._uid,n)}),{immediate:!0})},a={_uid:t._uid,valid:function(){},shouldValidate:function(){}};return this.lazyValidation?a.shouldValidate=t.$watch("shouldValidate",(function(s){s&&(e.errorBag.hasOwnProperty(t._uid)||(a.valid=n(t)))})):a.valid=n(t),a},validate:function(){return 0===this.inputs.filter((function(t){return!t.validate(!0)})).length},reset:function(){this.inputs.forEach((function(t){return t.reset()})),this.resetErrorBag()},resetErrorBag:function(){var t=this;this.lazyValidation&&setTimeout((function(){t.errorBag={}}),0)},resetValidation:function(){this.inputs.forEach((function(t){return t.resetValidation()})),this.resetErrorBag()},register:function(t){this.inputs.push(t),this.watchers.push(this.watchInput(t))},unregister:function(t){var e=this.inputs.find((function(e){return e._uid===t._uid}));if(e){var n=this.watchers.find((function(t){return t._uid===e._uid}));n&&(n.valid(),n.shouldValidate()),this.watchers=this.watchers.filter((function(t){return t._uid!==e._uid})),this.inputs=this.inputs.filter((function(t){return t._uid!==e._uid})),this.$delete(this.errorBag,e._uid)}}},render:function(t){var e=this;return t("form",{staticClass:"v-form",attrs:Object(a["a"])({novalidate:!0},this.attrs$),on:{submit:function(t){return e.$emit("submit",t)}}},this.$slots.default)}})},7820:function(t,e,n){},a523:function(t,e,n){"use strict";n("4de4"),n("b64b"),n("2ca0"),n("99af"),n("20f6"),n("4b85");var a=n("e8f2"),s=n("d9f7");e["a"]=Object(a["a"])("container").extend({name:"v-container",functional:!0,props:{id:String,tag:{type:String,default:"div"},fluid:{type:Boolean,default:!1}},render:function(t,e){var n,a=e.props,i=e.data,o=e.children,r=i.attrs;return r&&(i.attrs={},n=Object.keys(r).filter((function(t){if("slot"===t)return!1;var e=r[t];return t.startsWith("data-")?(i.attrs[t]=e,!1):e||"string"===typeof e}))),a.id&&(i.domProps=i.domProps||{},i.domProps.id=a.id),t(a.tag,Object(s["a"])(i,{staticClass:"container",class:Array({"container--fluid":a.fluid}).concat(n||[])}),o)}})},a55b:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",{staticClass:"d-flex fill-height justify-center align-center cardBG",attrs:{fluid:""}},[n("v-spacer"),n("transition",{attrs:{name:"rotate",mode:"out-in"}},[1===t.modo?n("LoginCard",{on:{ForgotPass:t.changeToPass}}):2===t.modo?n("ForgotPass",{on:{Login:t.changeToLogin}}):t._e()],1),n("v-spacer")],1)},s=[],i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-card",{staticClass:"pa-2",attrs:{width:"300px"}},[n("v-card-title",{staticClass:"d-flex justify-center"},[t._v(" Login ")]),n("v-divider"),n("v-card-text",[n("v-form",{ref:"form",model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[n("v-text-field",{attrs:{"prepend-icon":"mdi-email-outline",label:"E-mail",required:"",outlined:"",rules:t.emailRules,dense:""},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.login.apply(null,arguments)}},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),n("v-text-field",{attrs:{"prepend-icon":"mdi-account-key-outline","append-icon":t.showPass?"mdi-eye":"mdi-eye-off",type:t.showPass?"text":"password",label:"Senha",required:"",outlined:"",dense:"",rules:t.passwordRules},on:{"click:append":function(e){t.showPass=!t.showPass},keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.login.apply(null,arguments)}},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),n("div",{staticClass:"d-flex justify-center"},[n("v-btn",{attrs:{color:"green","min-width":"150px",small:""},on:{click:t.login}},[t._v("Entrar")])],1),n("div",{staticClass:"link caption text-center mt-4",on:{click:function(e){return t.newEvent("ForgotPass")}}},[t._v(" Redefina sua senha. ")]),n("div",{staticClass:"link caption text-center mt-4",on:{click:t.sendAccessToken}},[t._v(" Receber token de acesso único. ")])],1)],1)],1)},o=[],r=n("bc3a"),d=n.n(r),l={data:function(){return{email:"",password:"",showPass:!1,valid:null,emailRules:[function(t){return!!t||"Forneça um e-mail"},function(t){return/.+@.+\..+/.test(t)||"E-mail inválido"}],passwordRules:[function(t){return t&&t.length>=8||"Senha inválida"}]}},methods:{login:function(){var t=this,e={username:this.email,password:this.password};d.a.post("/auth/login",e).then((function(e){t.$root.vtoast.show({message:"Login realizado com sucesso."}),t.$router.push("/")})).catch((function(){t.$root.vtoast.show({message:"Falha no login do usuário",color:"red lighten-2",icon:"mdi-account-alert"})}))},sendAccessToken:function(){var t=this,e={email:this.email};d.a.post("/users/accessToken",e).then((function(e){t.$root.vtoast.show({message:e.data})})).catch((function(e){t.$root.vtoast.show({message:e.response.data.erro,color:"red lighten-2",icon:"mdi-account-alert"})}))},newEvent:function(t){this.$emit(t)}}},c=l,u=(n("0512"),n("2877")),f=n("6544"),h=n.n(f),p=n("8336"),m=n("b0af"),v=n("99d9"),w=n("ce7e"),g=n("4bd4"),b=n("8654"),k=Object(u["a"])(c,i,o,!1,null,"0221dbcc",null),y=k.exports;h()(k,{VBtn:p["a"],VCard:m["a"],VCardText:v["c"],VCardTitle:v["d"],VDivider:w["a"],VForm:g["a"],VTextField:b["a"]});var x=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-card",{staticClass:"pa-2",attrs:{width:"300px"}},[n("v-card-title",{staticClass:"d-flex justify-center"},[t._v(" Recuperação de senha ")]),n("v-divider"),n("v-card-text",[n("v-form",{model:{value:t.form1,callback:function(e){t.form1=e},expression:"form1"}},[n("v-text-field",{attrs:{"prepend-icon":"mdi-email-outline",label:"Digite seu e-mail",rules:t.emailRules,required:"",outlined:"",dense:"",disabled:t.disableMail},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.requestToken.apply(null,arguments)}},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),n("div",{staticClass:"d-flex justify-center mb-3"},[n("v-btn",{attrs:{disabled:t.disableMail||!t.form1,color:"blue","min-width":"150px",small:""},on:{click:t.requestToken}},[t._v("Enviar código")])],1)],1),n("transition",{attrs:{name:"slide"}},[t.sentCode?n("v-form",{model:{value:t.form2,callback:function(e){t.form2=e},expression:"form2"}},[n("v-divider",{staticClass:"mb-4 mt-4"}),n("v-text-field",{attrs:{"prepend-icon":"mdi-account-key-outline",label:"Token",rules:t.tokenRules,outlined:"",dense:""},model:{value:t.code,callback:function(e){t.code=e},expression:"code"}}),n("v-text-field",{attrs:{"prepend-icon":"mdi-shield-key","append-icon":t.showPass?"mdi-eye":"mdi-eye-off",label:"Nova senha",rules:t.passwordRules,type:t.showPass?"text":"password",outlined:"",dense:""},on:{"click:append":function(e){t.showPass=!t.showPass}},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),n("v-text-field",{attrs:{"prepend-icon":"mdi-shield-key","append-icon":t.showPass2?"mdi-eye":"mdi-eye-off",type:t.showPass2?"text":"password",label:"Repita a senha",rules:t.passwordCheckRules,outlined:"",dense:""},on:{"click:append":function(e){t.showPass2=!t.showPass2}},model:{value:t.password2,callback:function(e){t.password2=e},expression:"password2"}}),n("div",{staticClass:"d-flex justify-center"},[n("v-btn",{attrs:{disabled:!t.form2,color:"green","min-width":"150px",small:""},on:{click:t.changePassword}},[t._v("Redefinir senha")])],1)],1):t._e()],1)],1),n("v-divider"),n("v-card-actions",{staticClass:"justify-center mt-2"},[n("v-btn",{attrs:{"min-width":"150px",color:"red darken-2",small:""},on:{click:t.returnToLogin}},[t._v(" Cancelar")])],1)],1)},C=[],P={data:function(){var t=this;return{form1:!1,form2:!1,sentCode:!1,email:"",code:"",password:"",password2:"",disableMail:!1,showPass:!1,showPass2:!1,emailRules:[function(t){return!!t||"Forneça um e-mail"},function(t){return/.+@.+\..+/.test(t)||"E-mail inválido"}],passwordRules:[function(t){return t&&t.length>=8||"Senha inválida"}],tokenRules:[function(t){return t&&t.length>=20||"Token inválido"}],passwordCheckRules:[function(t){return t&&t.length>=8||"Senha muito curta"},function(){return t.password===t.password2||"Senhas inválida"}]}},methods:{returnToLogin:function(){this.$emit("Login")},requestToken:function(){var t=this,e={email:this.email};this.disableMail=!0,d.a.post("/users/recoverPassword",e).then((function(e){t.sentCode=!0,t.$root.vtoast.show({message:e.data})})).catch((function(e){t.disableMail=!1,t.$root.vtoast.show({color:"red",message:e.response.data})}))},changePassword:function(){var t=this;if(this.password!=this.password2)return this.$root.vtoast.show({color:"red",message:"Confira sua senha."});var e={email:this.email,token:this.code,password:this.password};d.a.post("/users/resetPassword",e).then((function(e){t.$root.vtoast.show({message:e.data}),t.$emit("Login")})).catch((function(e){t.$root.vtoast.show({color:"red",message:e.response.data})}))}}},_=P,V=(n("f821"),Object(u["a"])(_,x,C,!1,null,"1f8ce2e8",null)),$=V.exports;h()(V,{VBtn:p["a"],VCard:m["a"],VCardActions:v["a"],VCardText:v["c"],VCardTitle:v["d"],VDivider:w["a"],VForm:g["a"],VTextField:b["a"]});var T={components:{LoginCard:y,ForgotPass:$},data:function(){return{email:"",password:"",valid:null,modo:1}},methods:{changeToPass:function(){this.modo=2},changeToLogin:function(){this.modo=1}},mounted:function(){this.$store.getters.getUser&&this.$router.push("/")}},j=T,E=(n("a5f0"),n("a523")),B=n("2fa4"),R=Object(u["a"])(j,a,s,!1,null,"208ffc3a",null);e["default"]=R.exports;h()(R,{VContainer:E["a"],VSpacer:B["a"]})},a5f0:function(t,e,n){"use strict";n("7820")},b81d:function(t,e,n){},c018:function(t,e,n){},e8f2:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));n("498a"),n("99af"),n("4de4"),n("b64b"),n("2ca0"),n("a15b");var a=n("2b0e");function s(t){return a["a"].extend({name:"v-".concat(t),functional:!0,props:{id:String,tag:{type:String,default:"div"}},render:function(e,n){var a=n.props,s=n.data,i=n.children;s.staticClass="".concat(t," ").concat(s.staticClass||"").trim();var o=s.attrs;if(o){s.attrs={};var r=Object.keys(o).filter((function(t){if("slot"===t)return!1;var e=o[t];return t.startsWith("data-")?(s.attrs[t]=e,!1):e||"string"===typeof e}));r.length&&(s.staticClass+=" ".concat(r.join(" ")))}return a.id&&(s.domProps=s.domProps||{},s.domProps.id=a.id),e(a.tag,s,i)}})}},f821:function(t,e,n){"use strict";n("c018")}}]);
//# sourceMappingURL=chunk-5d3dac08.44532aa4.js.map