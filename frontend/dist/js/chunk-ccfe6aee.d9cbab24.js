(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ccfe6aee"],{1681:function(t,e,a){},"4bd4":function(t,e,a){"use strict";var o=a("5530"),i=(a("caad"),a("2532"),a("07ac"),a("4de4"),a("159b"),a("7db0"),a("58df")),n=a("7e2b"),s=a("3206");e["a"]=Object(i["a"])(n["a"],Object(s["b"])("form")).extend({name:"v-form",provide:function(){return{form:this}},inheritAttrs:!1,props:{disabled:Boolean,lazyValidation:Boolean,readonly:Boolean,value:Boolean},data:function(){return{inputs:[],watchers:[],errorBag:{}}},watch:{errorBag:{handler:function(t){var e=Object.values(t).includes(!0);this.$emit("input",!e)},deep:!0,immediate:!0}},methods:{watchInput:function(t){var e=this,a=function(t){return t.$watch("hasError",(function(a){e.$set(e.errorBag,t._uid,a)}),{immediate:!0})},o={_uid:t._uid,valid:function(){},shouldValidate:function(){}};return this.lazyValidation?o.shouldValidate=t.$watch("shouldValidate",(function(i){i&&(e.errorBag.hasOwnProperty(t._uid)||(o.valid=a(t)))})):o.valid=a(t),o},validate:function(){return 0===this.inputs.filter((function(t){return!t.validate(!0)})).length},reset:function(){this.inputs.forEach((function(t){return t.reset()})),this.resetErrorBag()},resetErrorBag:function(){var t=this;this.lazyValidation&&setTimeout((function(){t.errorBag={}}),0)},resetValidation:function(){this.inputs.forEach((function(t){return t.resetValidation()})),this.resetErrorBag()},register:function(t){this.inputs.push(t),this.watchers.push(this.watchInput(t))},unregister:function(t){var e=this.inputs.find((function(e){return e._uid===t._uid}));if(e){var a=this.watchers.find((function(t){return t._uid===e._uid}));a&&(a.valid(),a.shouldValidate()),this.watchers=this.watchers.filter((function(t){return t._uid!==e._uid})),this.inputs=this.inputs.filter((function(t){return t._uid!==e._uid})),this.$delete(this.errorBag,e._uid)}}},render:function(t){var e=this;return t("form",{staticClass:"v-form",attrs:Object(o["a"])({novalidate:!0},this.attrs$),on:{submit:function(t){return e.$emit("submit",t)}}},this.$slots.default)}})},"4ff8":function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("AppointmentTable")],1)},i=[],n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-card-title",{staticClass:"py-3 my-0"},[a("v-text-field",{staticClass:"white",staticStyle:{"max-width":"600px"},attrs:{outlined:"",dense:"","append-icon":"mdi-magnify",label:"Busca","hide-details":""},model:{value:t.busca,callback:function(e){t.busca=e},expression:"busca"}}),a("v-spacer")],1),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.appointments,search:t.busca,dense:"","item-key":"_id",loading:t.loading,"loading-text":"Carregando consultas...","no-data-text":"Não há consultas a exibir...","items-per-page":20,"footer-props":{"items-per-page-all-text":"Todos","items-per-page-text":"Consultas por página:","items-per-page-options":[10,20,30,40,-1]},"header-props":{"sort-by-text":"Organizar por"}},scopedSlots:t._u([{key:"item.date",fn:function(e){var a=e.item;return[t._v(" "+t._s(t.formatDate(a.date))+" ")]}},{key:"item.hour",fn:function(e){var a=e.item;return[t._v(" "+t._s(t.formatHour(a.date))+" ")]}},{key:"item.start",fn:function(e){var a=e.item;return[t._v(" "+t._s(t.formatHour(a.start))+" ")]}},{key:"item.end",fn:function(e){var a=e.item;return[t._v(" "+t._s(t.formatHour(a.end))+" ")]}},{key:"item.actions",fn:function(e){var o=e.item;return[a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on,n=e.attrs;return[a("v-btn",t._g(t._b({attrs:{icon:""},on:{click:function(e){return t.viewEvent(o)}}},"v-btn",n,!1),i),[a("v-icon",{attrs:{small:"",color:"blue"}},[t._v("mdi-table-edit")])],1)]}}],null,!0)},[a("span",[t._v("Editar prontuário")])])]}}],null,!0)}),a("v-dialog",{model:{value:t.showDialog,callback:function(e){t.showDialog=e},expression:"showDialog"}},[a("EditAppointment",{key:t.selectedId,attrs:{id:t.selectedId},on:{close:function(e){t.showDialog=!1}}})],1)],1)},s=[],r=(a("4de4"),a("bc3a")),c=a.n(r),l=a("8d35"),u=a.n(l),d=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-card",{staticClass:"px-2 py-4"},[a("v-card-title",[t._v("Anamnese")]),a("v-card-text",[a("v-form",[a("v-textarea",{attrs:{outlined:"",dense:"",height:"40",label:"Queixa principal",placeholder:"Queixa principal do paciente"},model:{value:t.doctorNotes.queixaPrincipal,callback:function(e){t.$set(t.doctorNotes,"queixaPrincipal",e)},expression:"doctorNotes.queixaPrincipal"}}),a("v-textarea",{attrs:{outlined:"",dense:"",label:"Histórico da doença atual",placeholder:"Histórico de progressão da moléstia, quando possível."},model:{value:t.doctorNotes.historicoMolestia,callback:function(e){t.$set(t.doctorNotes,"historicoMolestia",e)},expression:"doctorNotes.historicoMolestia"}}),a("v-textarea",{attrs:{outlined:"",dense:"",label:"História pregressa e familiar",placeholder:"Histórico próprio e familiar do paciente"},model:{value:t.doctorNotes.historicoFamiliar,callback:function(e){t.$set(t.doctorNotes,"historicoFamiliar",e)},expression:"doctorNotes.historicoFamiliar"}}),a("v-textarea",{attrs:{outlined:"",dense:"",label:"Exame físico",placeholder:"Detalhamento do exame físico do paciente"},model:{value:t.doctorNotes.exameFisico,callback:function(e){t.$set(t.doctorNotes,"exameFisico",e)},expression:"doctorNotes.exameFisico"}}),a("v-textarea",{attrs:{outlined:"",dense:"",label:"Exames pregressos",placeholder:"Dados sobre exames apresentados durante a consulta"},model:{value:t.doctorNotes.examesApresentados,callback:function(e){t.$set(t.doctorNotes,"examesApresentados",e)},expression:"doctorNotes.examesApresentados"}}),a("v-textarea",{attrs:{outlined:"",dense:"",height:"80",label:"Hipotese diagnóstica"},model:{value:t.doctorNotes.hipoteseDiagnostica,callback:function(e){t.$set(t.doctorNotes,"hipoteseDiagnostica",e)},expression:"doctorNotes.hipoteseDiagnostica"}}),a("v-textarea",{attrs:{outlined:"",dense:"",height:"80",label:"Conduta",placeholder:"Condutas médicas para paciente após consulta"},model:{value:t.doctorNotes.condutas,callback:function(e){t.$set(t.doctorNotes,"condutas",e)},expression:"doctorNotes.condutas"}})],1)],1),a("v-divider"),a("v-card-actions",[a("v-btn",{attrs:{text:"",small:"",color:"red"},on:{click:t.emitClose}},[t._v("Cancelar")]),a("v-spacer"),a("v-btn",{attrs:{text:"",small:"",color:"green",disabled:t.busy},on:{click:t.saveChanges}},[t._v("Salvar")])],1)],1)],1)},p=[],h={props:{id:{type:String,default:null}},data:function(){return{doctorNotes:{queixaPrincipal:"",historicoMolestia:"",historicoFamiliar:"",exameFisico:"",examesApresentados:"",hipoteseDiagnostica:"",condutas:""},busy:!1}},methods:{loadDecrypted:function(){var t=this;c.a.get("/appointment/decryptedNotes/".concat(this.id)).then((function(e){t.doctorNotes=e.data})).catch((function(t){console.log(t.response.data)}))},saveChanges:function(){var t=this,e={id:this.id,doctorNotes:this.doctorNotes};this.busy=!0,c.a.put("/appointment/appointmentReview",e).then((function(e){t.$root.vtoast.show({color:"green",message:e.data}),t.busy=!1,t.emitClose()})).catch((function(e){t.$root.vtoast.show({color:"orange",message:e.response.data,icon:"mdi-alert"}),t.busy=!1}))},emitClose:function(){this.$emit("close")}},mounted:function(){this.loadDecrypted()}},f=h,m=a("2877"),v=a("6544"),g=a.n(v),b=a("8336"),x=a("b0af"),w=a("99d9"),y=a("ce7e"),_=a("4bd4"),N=a("2fa4"),k=a("a844"),$=Object(m["a"])(f,d,p,!1,null,"d2c8ef74",null),V=$.exports;g()($,{VBtn:b["a"],VCard:x["a"],VCardActions:w["a"],VCardText:w["c"],VCardTitle:w["d"],VDivider:y["a"],VForm:_["a"],VSpacer:N["a"],VTextarea:k["a"]});var H={components:{EditAppointment:V},data:function(){return{loading:!0,showDialog:!1,appointments:[],selectedId:null,busca:"",headers:[{text:"Paciente",value:"patientId.name",sortable:!0,align:"center"},{text:"Médico",value:"doctorId.name",sortable:!0,align:"center"},{text:"Data",value:"date",sortable:!0,align:"center"},{text:"Hora",value:"hour",sortable:!1,align:"center"},{text:"Início",value:"start",sortable:!1,align:"center"},{text:"Fim",value:"end",sortable:!1,align:"center"},{text:"Tipo",value:"tipo",sortable:!1,align:"center"},{text:"Ações",value:"actions",sortable:!1,align:"center"}]}},mounted:function(){this.fetchAppointments()},methods:{formatDate:function(t){return u()(t).format("DD/MM/YYYY")},formatHour:function(t){return u()(t).format("HH:mm")},fetchAppointments:function(){var t=this;c.a.get("/appointment/").then((function(e){t.appointments=e.data.filter((function(t){return t.end})),t.loading=!1})).catch((function(e){t.$root.vtoast.show({color:"orange",message:"Falha na busca da agenda",icon:"mdi-alert"})}))},viewEvent:function(t){this.selectedId=t._id,this.showDialog=!0}}},D=H,I=a("8fea"),C=a("169a"),B=a("132d"),E=a("8654"),T=a("3a2f"),F=Object(m["a"])(D,n,s,!1,null,null,null),A=F.exports;g()(F,{VBtn:b["a"],VCardTitle:w["d"],VDataTable:I["a"],VDialog:C["a"],VIcon:B["a"],VSpacer:N["a"],VTextField:E["a"],VTooltip:T["a"]});var O={components:{AppointmentTable:A}},z=O,j=Object(m["a"])(z,o,i,!1,null,"5e68276a",null);e["default"]=j.exports},a844:function(t,e,a){"use strict";var o=a("5530"),i=(a("a9e3"),a("1681"),a("8654")),n=a("58df"),s=Object(n["a"])(i["a"]);e["a"]=s.extend({name:"v-textarea",props:{autoGrow:Boolean,noResize:Boolean,rowHeight:{type:[Number,String],default:24,validator:function(t){return!isNaN(parseFloat(t))}},rows:{type:[Number,String],default:5,validator:function(t){return!isNaN(parseInt(t,10))}}},computed:{classes:function(){return Object(o["a"])({"v-textarea":!0,"v-textarea--auto-grow":this.autoGrow,"v-textarea--no-resize":this.noResizeHandle},i["a"].options.computed.classes.call(this))},noResizeHandle:function(){return this.noResize||this.autoGrow}},watch:{autoGrow:function(t){var e=this;this.$nextTick((function(){var a;t?e.calculateInputHeight():null==(a=e.$refs.input)||a.style.removeProperty("height")}))},lazyValue:function(){this.autoGrow&&this.$nextTick(this.calculateInputHeight)},rowHeight:function(){this.autoGrow&&this.$nextTick(this.calculateInputHeight)}},mounted:function(){var t=this;setTimeout((function(){t.autoGrow&&t.calculateInputHeight()}),0)},methods:{calculateInputHeight:function(){var t=this.$refs.input;if(t){t.style.height="0";var e=t.scrollHeight,a=parseInt(this.rows,10)*parseFloat(this.rowHeight);t.style.height=Math.max(a,e)+"px"}},genInput:function(){var t=i["a"].options.methods.genInput.call(this);return t.tag="textarea",delete t.data.attrs.type,t.data.attrs.rows=this.rows,t},onInput:function(t){i["a"].options.methods.onInput.call(this,t),this.autoGrow&&this.calculateInputHeight()},onKeyDown:function(t){this.isFocused&&13===t.keyCode&&t.stopPropagation(),this.$emit("keydown",t)}}})}}]);
//# sourceMappingURL=chunk-ccfe6aee.d9cbab24.js.map