{"version":3,"sources":["webpack:///./src/views/Login.vue?7eb3","webpack:///./src/views/Login.vue?7224","webpack:///./src/components/Login/LoginCard.vue?ffe4","webpack:///src/components/Login/LoginCard.vue","webpack:///./src/components/Login/LoginCard.vue?824a","webpack:///./src/components/Login/LoginCard.vue?a918","webpack:///./src/components/Login/ForgotPass.vue?0595","webpack:///src/components/Login/ForgotPass.vue","webpack:///./src/components/Login/ForgotPass.vue?9462","webpack:///./src/components/Login/ForgotPass.vue?44ee","webpack:///src/views/Login.vue","webpack:///./src/views/Login.vue?09c2","webpack:///./src/views/Login.vue?7a10","webpack:///./src/components/Login/LoginCard.vue?698c","webpack:///./src/components/Login/ForgotPass.vue?b55d"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","modo","on","changeToRegister","changeToPass","changeToLogin","_e","staticRenderFns","_v","ref","model","value","callback","$$v","valid","expression","emailRules","email","showPass","passwordRules","$event","password","login","newEvent","sendAccessToken","data","methods","username","$emit","payload","component","VBtn","VCard","VCardText","VCardTitle","VDivider","VForm","VTextField","form1","disableMail","type","indexOf","_k","keyCode","key","requestToken","apply","arguments","form2","tokenRules","code","showPass2","passwordCheckRules","password2","changePassword","returnToLogin","sentCode","$root","vtoast","show","color","message","token","VCardActions","components","LoginCard","ForgotPass","VContainer","VSpacer"],"mappings":"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","file":"js/chunk-46f65e98.cdfff27b.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=style&index=0&id=b6511434&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',{staticClass:\"d-flex fill-height justify-center align-center cardBG\",attrs:{\"fluid\":\"\"}},[_c('v-spacer'),_c('transition',{attrs:{\"name\":\"rotate\",\"mode\":\"out-in\"}},[(_vm.modo === 1)?_c('LoginCard',{on:{\"Register\":_vm.changeToRegister,\"ForgotPass\":_vm.changeToPass}}):(_vm.modo === 2)?_c('ForgotPass',{on:{\"Login\":_vm.changeToLogin}}):_vm._e()],1),_c('v-spacer')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-card',{staticClass:\"pa-2\",attrs:{\"width\":\"300px\"}},[_c('v-card-title',{staticClass:\"d-flex justify-center\"},[_vm._v(\" Login \")]),_c('v-divider'),_c('v-card-text',[_c('v-form',{ref:\"form\",model:{value:(_vm.valid),callback:function ($$v) {_vm.valid=$$v},expression:\"valid\"}},[_c('v-text-field',{attrs:{\"prepend-icon\":\"mdi-email-outline\",\"label\":\"E-mail\",\"required\":\"\",\"outlined\":\"\",\"rules\":_vm.emailRules,\"dense\":\"\"},model:{value:(_vm.email),callback:function ($$v) {_vm.email=$$v},expression:\"email\"}}),_c('v-text-field',{attrs:{\"prepend-icon\":\"mdi-account-key-outline\",\"append-icon\":_vm.showPass ? 'mdi-eye' : 'mdi-eye-off',\"type\":_vm.showPass ? 'text' : 'password',\"label\":\"Senha\",\"required\":\"\",\"outlined\":\"\",\"dense\":\"\",\"rules\":_vm.passwordRules},on:{\"click:append\":function($event){_vm.showPass = !_vm.showPass}},model:{value:(_vm.password),callback:function ($$v) {_vm.password=$$v},expression:\"password\"}}),_c('div',{staticClass:\"d-flex justify-center\"},[_c('v-btn',{attrs:{\"color\":\"green\",\"min-width\":\"150px\",\"small\":\"\"},on:{\"click\":_vm.login}},[_vm._v(\"Entrar\")])],1),_c('div',{staticClass:\"link caption text-center mt-4\",on:{\"click\":function($event){return _vm.newEvent('ForgotPass')}}},[_vm._v(\" Redefina sua senha. \")]),_c('div',{staticClass:\"link caption text-center mt-4\",on:{\"click\":_vm.sendAccessToken}},[_vm._v(\" Receber token de acesso único. \")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-card class=\"pa-2\" width=\"300px\">\n    <v-card-title class=\"d-flex justify-center\"> Login </v-card-title>\n    <v-divider></v-divider>\n    <v-card-text>\n      <v-form ref=\"form\" v-model=\"valid\">\n        <v-text-field\n          prepend-icon=\"mdi-email-outline\"\n          v-model=\"email\"\n          label=\"E-mail\"\n          required\n          outlined\n          :rules=\"emailRules\"\n          dense\n        ></v-text-field>\n        <v-text-field\n          prepend-icon=\"mdi-account-key-outline\"\n          :append-icon=\"showPass ? 'mdi-eye' : 'mdi-eye-off'\"\n          @click:append=\"showPass = !showPass\"\n          :type=\"showPass ? 'text' : 'password'\"\n          v-model=\"password\"\n          label=\"Senha\"\n          required\n          outlined\n          dense\n          :rules=\"passwordRules\"\n        ></v-text-field>\n        <div class=\"d-flex justify-center\">\n          <v-btn @click=\"login\" color=\"green\" min-width=\"150px\" small\n            >Entrar</v-btn\n          >\n        </div>\n        <div\n          @click=\"newEvent('ForgotPass')\"\n          class=\"link caption text-center mt-4\"\n        >\n          Redefina sua senha.\n        </div>\n        <div @click=\"sendAccessToken\" class=\"link caption text-center mt-4\">\n          Receber token de acesso único.\n        </div>\n      </v-form>\n    </v-card-text>\n  </v-card>\n</template>\n\n<script>\nimport axios from \"axios\";\n\nexport default {\n  data() {\n    return {\n      email: \"\",\n      password: \"\",\n      showPass: false,\n      valid: null,\n      emailRules: [\n        (v) => !!v || \"Forneça um e-mail\",\n        (v) => /.+@.+\\..+/.test(v) || \"E-mail inválido\",\n      ],\n      passwordRules: [(v) => (v && v.length >= 8) || \"Senha inválida\"],\n    };\n  },\n  methods: {\n    login() {\n      let payload = {\n        username: this.email,\n        password: this.password,\n      };\n      axios\n        .post(\"/auth/login\", payload)\n        .then((res) => {\n          this.$root.vtoast.show({ message: \"Login realizado com sucesso.\" });\n          let rota = res.data === \"admin\" ? \"Dashboard\" : \"Cliente\";\n          this.$router.push(rota);\n        })\n        .catch(() => {\n          this.$root.vtoast.show({\n            message: \"Falha no login do usuário\",\n            color: \"red lighten-2\",\n            icon: \"mdi-account-alert\",\n          });\n        });\n    },\n    sendAccessToken() {\n      let payload = {\n        email: this.email,\n      };\n      axios\n        .post(\"/users/accessToken\", payload)\n        .then((res) => {\n          this.$root.vtoast.show({ message: res.data });\n        })\n        .catch((err) => {\n          this.$root.vtoast.show({\n            message: err.response.data.erro,\n            color: \"red lighten-2\",\n            icon: \"mdi-account-alert\",\n          });\n        });\n    },\n    newEvent(payload) {\n      this.$emit(payload);\n    },\n  },\n};\n</script>\n\n<style scoped>\n.link {\n  cursor: pointer;\n  color: darkblue;\n  display: block;\n}\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LoginCard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LoginCard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./LoginCard.vue?vue&type=template&id=e5d2d182&scoped=true&\"\nimport script from \"./LoginCard.vue?vue&type=script&lang=js&\"\nexport * from \"./LoginCard.vue?vue&type=script&lang=js&\"\nimport style0 from \"./LoginCard.vue?vue&type=style&index=0&id=e5d2d182&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"e5d2d182\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VForm } from 'vuetify/lib/components/VForm';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VBtn,VCard,VCardText,VCardTitle,VDivider,VForm,VTextField})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-card',{staticClass:\"pa-2\",attrs:{\"width\":\"300px\"}},[_c('v-card-title',{staticClass:\"d-flex justify-center\"},[_vm._v(\" Recuperação de senha \")]),_c('v-divider'),_c('v-card-text',[_c('v-form',{model:{value:(_vm.form1),callback:function ($$v) {_vm.form1=$$v},expression:\"form1\"}},[_c('v-text-field',{attrs:{\"prepend-icon\":\"mdi-email-outline\",\"label\":\"Digite seu e-mail\",\"rules\":_vm.emailRules,\"required\":\"\",\"outlined\":\"\",\"dense\":\"\",\"disabled\":_vm.disableMail},on:{\"keydown\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.requestToken.apply(null, arguments)}},model:{value:(_vm.email),callback:function ($$v) {_vm.email=$$v},expression:\"email\"}}),_c('div',{staticClass:\"d-flex justify-center mb-3\"},[_c('v-btn',{attrs:{\"disabled\":_vm.disableMail || !_vm.form1,\"color\":\"blue\",\"min-width\":\"150px\",\"small\":\"\"},on:{\"click\":_vm.requestToken}},[_vm._v(\"Enviar código\")])],1)],1),_c('transition',{attrs:{\"name\":\"slide\"}},[(_vm.sentCode)?_c('v-form',{model:{value:(_vm.form2),callback:function ($$v) {_vm.form2=$$v},expression:\"form2\"}},[_c('v-divider',{staticClass:\"mb-4 mt-4\"}),_c('v-text-field',{attrs:{\"prepend-icon\":\"mdi-account-key-outline\",\"label\":\"Token\",\"rules\":_vm.tokenRules,\"outlined\":\"\",\"dense\":\"\"},model:{value:(_vm.code),callback:function ($$v) {_vm.code=$$v},expression:\"code\"}}),_c('v-text-field',{attrs:{\"prepend-icon\":\"mdi-shield-key\",\"append-icon\":_vm.showPass ? 'mdi-eye' : 'mdi-eye-off',\"label\":\"Nova senha\",\"rules\":_vm.passwordRules,\"type\":_vm.showPass ? 'text' : 'password',\"outlined\":\"\",\"dense\":\"\"},on:{\"click:append\":function($event){_vm.showPass = !_vm.showPass}},model:{value:(_vm.password),callback:function ($$v) {_vm.password=$$v},expression:\"password\"}}),_c('v-text-field',{attrs:{\"prepend-icon\":\"mdi-shield-key\",\"append-icon\":_vm.showPass2 ? 'mdi-eye' : 'mdi-eye-off',\"type\":_vm.showPass2 ? 'text' : 'password',\"label\":\"Repita a senha\",\"rules\":_vm.passwordCheckRules,\"outlined\":\"\",\"dense\":\"\"},on:{\"click:append\":function($event){_vm.showPass2 = !_vm.showPass2}},model:{value:(_vm.password2),callback:function ($$v) {_vm.password2=$$v},expression:\"password2\"}}),_c('div',{staticClass:\"d-flex justify-center\"},[_c('v-btn',{attrs:{\"disabled\":!_vm.form2,\"color\":\"green\",\"min-width\":\"150px\",\"small\":\"\"},on:{\"click\":_vm.changePassword}},[_vm._v(\"Redefinir senha\")])],1)],1):_vm._e()],1)],1),_c('v-divider'),_c('v-card-actions',{staticClass:\"justify-center mt-2\"},[_c('v-btn',{attrs:{\"min-width\":\"150px\",\"color\":\"red darken-2\",\"small\":\"\"},on:{\"click\":_vm.returnToLogin}},[_vm._v(\" Cancelar\")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-card class=\"pa-2\" width=\"300px\">\n    <v-card-title class=\"d-flex justify-center\">\n      Recuperação de senha\n    </v-card-title>\n    <v-divider></v-divider>\n    <v-card-text>\n      <v-form v-model=\"form1\">\n        <v-text-field\n          prepend-icon=\"mdi-email-outline\"\n          v-model=\"email\"\n          label=\"Digite seu e-mail\"\n          :rules=\"emailRules\"\n          required\n          outlined\n          dense\n          :disabled=\"disableMail\"\n          @keydown.enter=\"requestToken\"\n        ></v-text-field>\n        <div class=\"d-flex justify-center mb-3\">\n          <v-btn\n            :disabled=\"disableMail || !form1\"\n            @click=\"requestToken\"\n            color=\"blue\"\n            min-width=\"150px\"\n            small\n            >Enviar código</v-btn\n          >\n        </div>\n      </v-form>\n      <transition name=\"slide\">\n        <v-form v-model=\"form2\" v-if=\"sentCode\">\n          <v-divider class=\"mb-4 mt-4\"></v-divider>\n          <v-text-field\n            prepend-icon=\"mdi-account-key-outline\"\n            v-model=\"code\"\n            label=\"Token\"\n            :rules=\"tokenRules\"\n            outlined\n            dense\n          ></v-text-field>\n          <v-text-field\n            prepend-icon=\"mdi-shield-key\"\n            :append-icon=\"showPass ? 'mdi-eye' : 'mdi-eye-off'\"\n            @click:append=\"showPass = !showPass\"\n            v-model=\"password\"\n            label=\"Nova senha\"\n            :rules=\"passwordRules\"\n            :type=\"showPass ? 'text' : 'password'\"\n            outlined\n            dense\n          ></v-text-field>\n          <v-text-field\n            prepend-icon=\"mdi-shield-key\"\n            :append-icon=\"showPass2 ? 'mdi-eye' : 'mdi-eye-off'\"\n            @click:append=\"showPass2 = !showPass2\"\n            v-model=\"password2\"\n            :type=\"showPass2 ? 'text' : 'password'\"\n            label=\"Repita a senha\"\n            :rules=\"passwordCheckRules\"\n            outlined\n            dense\n          ></v-text-field>\n          <div class=\"d-flex justify-center\">\n            <v-btn\n              :disabled=\"!form2\"\n              @click=\"changePassword\"\n              color=\"green\"\n              min-width=\"150px\"\n              small\n              >Redefinir senha</v-btn\n            >\n          </div>\n        </v-form>\n      </transition>\n    </v-card-text>\n    <v-divider></v-divider>\n    <v-card-actions class=\"justify-center mt-2\">\n      <v-btn\n        min-width=\"150px\"\n        color=\"red darken-2\"\n        @click=\"returnToLogin\"\n        small\n      >\n        Cancelar</v-btn\n      >\n    </v-card-actions>\n  </v-card>\n</template>\n\n<script>\nimport axios from \"axios\";\nexport default {\n  data() {\n    return {\n      form1: false,\n      form2: false,\n      sentCode: false,\n      email: \"\",\n      code: \"\",\n      password: \"\",\n      password2: \"\",\n      disableMail: false,\n      showPass: false,\n      showPass2: false,\n      emailRules: [\n        (v) => !!v || \"Forneça um e-mail\",\n        (v) => /.+@.+\\..+/.test(v) || \"E-mail inválido\",\n      ],\n      passwordRules: [(v) => (v && v.length >= 8) || \"Senha inválida\"],\n      tokenRules: [(v) => (v && v.length >= 20) || \"Token inválido\"],\n      passwordCheckRules: [\n        (v) => (v && v.length >= 8) || \"Senha muito curta\",\n        () => this.password === this.password2 || \"Senhas inválida\",\n      ],\n    };\n  },\n  methods: {\n    returnToLogin() {\n      this.$emit(\"Login\");\n    },\n    requestToken() {\n      let payload = { email: this.email };\n      this.disableMail = true;\n      axios\n        .post(\"/users/recoverPassword\", payload)\n        .then((res) => {\n          this.sentCode = true;\n          this.$root.vtoast.show({\n            message: res.data,\n          });\n        })\n        .catch((err) => {\n          this.disableMail = false;\n          this.$root.vtoast.show({\n            color: \"red\",\n            message: err.response.data,\n          });\n        });\n    },\n    changePassword() {\n      if (this.password != this.password2) {\n        return this.$root.vtoast.show({\n          color: \"red\",\n          message: \"Confira sua senha.\",\n        });\n      }\n      let payload = {\n        email: this.email,\n        token: this.code,\n        password: this.password,\n      };\n      axios\n        .post(\"/users/resetPassword\", payload)\n        .then((res) => {\n          this.$root.vtoast.show({\n            message: res.data,\n          });\n          this.$emit(\"Login\");\n        })\n        .catch((err) => {\n          this.$root.vtoast.show({\n            color: \"red\",\n            message: err.response.data,\n          });\n        });\n    },\n  },\n};\n</script>\n\n<style scoped>\n@keyframes slide {\n  0% {\n    opacity: 1;\n    transform: scaleY(0);\n  }\n  100% {\n    opacity: 1;\n    transform: scaleY(1);\n  }\n}\n\n.slide-enter-active {\n  animation: slide 0.3s;\n}\n\n.slide-leave-active {\n  animation: slide 0.3s reverse;\n}\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ForgotPass.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ForgotPass.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ForgotPass.vue?vue&type=template&id=1f8ce2e8&scoped=true&\"\nimport script from \"./ForgotPass.vue?vue&type=script&lang=js&\"\nexport * from \"./ForgotPass.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ForgotPass.vue?vue&type=style&index=0&id=1f8ce2e8&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1f8ce2e8\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VForm } from 'vuetify/lib/components/VForm';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VBtn,VCard,VCardActions,VCardText,VCardTitle,VDivider,VForm,VTextField})\n","<template>\n  <v-container\n    fluid\n    class=\"d-flex fill-height justify-center align-center cardBG\"\n    ><v-spacer></v-spacer>\n    <transition name=\"rotate\" mode=\"out-in\">\n      <LoginCard\n        v-on:Register=\"changeToRegister\"\n        v-on:ForgotPass=\"changeToPass\"\n        v-if=\"modo === 1\"\n      />\n      <ForgotPass v-on:Login=\"changeToLogin\" v-else-if=\"modo === 2\" />\n    </transition>\n    <v-spacer></v-spacer>\n  </v-container>\n</template>\n\n<script>\nimport LoginCard from \"@/components/Login/LoginCard\";\nimport ForgotPass from \"@/components/Login/ForgotPass\";\n\nexport default {\n  components: {\n    LoginCard,\n    ForgotPass,\n  },\n  data() {\n    return {\n      email: \"\",\n      password: \"\",\n      valid: null,\n      modo: 1,\n    };\n  },\n  methods: {\n    changeToPass() {\n      this.modo = 2;\n    },\n    changeToLogin() {\n      this.modo = 1;\n    },\n  },\n};\n</script>\n\n<style scoped>\n.link {\n  cursor: pointer;\n  color: darkblue;\n  display: block;\n}\n\n@keyframes rotateIn {\n  0% {\n    opacity: 0;\n    transform: perspective(50cm) rotateY(90deg);\n  }\n  100% {\n    opacity: 1;\n    transform: perspective(50cm) rotateY(0deg);\n  }\n}\n\n@keyframes rotateOut {\n  0% {\n    opacity: 0;\n    transform: perspective(50cm) rotateY(-90deg);\n  }\n  100% {\n    opacity: 1;\n    transform: perspective(50cm) rotateY(0deg);\n  }\n}\n\n.rotate-enter-active {\n  animation: rotateIn 0.5s;\n}\n\n.rotate-leave-active {\n  animation: rotateOut 0.5s reverse;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Login.vue?vue&type=template&id=b6511434&scoped=true&\"\nimport script from \"./Login.vue?vue&type=script&lang=js&\"\nexport * from \"./Login.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Login.vue?vue&type=style&index=0&id=b6511434&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"b6511434\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\ninstallComponents(component, {VContainer,VSpacer})\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LoginCard.vue?vue&type=style&index=0&id=e5d2d182&scoped=true&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ForgotPass.vue?vue&type=style&index=0&id=1f8ce2e8&scoped=true&lang=css&\""],"sourceRoot":""}